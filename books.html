<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Book Recorder</title>
  <style>
    body {
      font-family: system-ui, Arial, sans-serif;
      max-width: 720px;
      margin: 40px auto;
      padding: 0 16px;
    }

    label {
      display: block;
      margin: 8px 0;
    }

    input[type="text"] {
      padding: 6px;
      width: 100%;
      max-width: 480px;
      box-sizing: border-box;
    }

    button {
      margin: 8px 6px 8px 0;
      padding: 8px 12px;
    }

    #message {
      margin-top: 8px;
      min-height: 18px;
    }

    ul {
      margin-top: 12px;
    }

    .flash-success {
      color: green;
    }

    .flash-error {
      color: crimson;
    }
  </style>
</head>

<body>
  <h1>Book Recorder</h1>

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div id="message">
    {% for category, msg in messages %}
    <div class="flash-{{ 'success' if category=='success' else 'error' }}">{{ msg }}</div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <form method="post" action="{{ url_for('add') }}">
    <label>
      Book title:
      <input id="title" name="title" type="text" placeholder="Enter book title" />
    </label>

    <label>
      Author:
      <input id="author" name="author" type="text" placeholder="Enter author name" />
    </label>

    <div>
      <button type="submit">Add Book</button>
      <a href="{{ url_for('books') }}"><button type="button">List Books</button></a>
    </div>
  </form>

  <ul id="booksList" aria-live="polite">
    {% if not books %}
    <li>No books added yet.</li>
    {% else %}
    {% for b in books %}
    <li>{{ b.title }} â€” {{ b.author }}</li>
    {% endfor %}
    {% endif %}
  </ul>

</body>

</html>